<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Premium Renovatie & Onderhoud Amsterdam Centrum | 4Builders</title>
  <meta name="description" content="Hoogwaardige renovatie en onderhoud voor Amsterdamse grachtenpanden. Vakmanschap met Achterhoekse betrouwbaarheid. Vraag een vrijblijvende prijsindicatie aan.">
  <meta name="robots" content="noindex">

  <!-- Open Graph -->
  <meta property="og:title" content="Premium Renovatie & Onderhoud Amsterdam | 4Builders">
  <meta property="og:description" content="Uw Amsterdams pand in topconditie. Hoogwaardige renovatie en onderhoud met de betrouwbaarheid van de Achterhoek.">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://4builders-amsterdam.nl/renovatie/offerte/">
  <meta property="og:image" content="https://4builders-amsterdam.nl/img/renovatie/keuken-en-woonkamer-woning-amsterdam-centrum_1_gebruiken.webp">

  <!-- GA4 -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-0XLK96R0P8"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-0XLK96R0P8');
    gtag('config', 'AW-17920851706');
  </script>

  <!-- Tailwind CSS (deferred – eliminates render-blocking) -->
  <link rel="stylesheet" href="/css/style.min.css" media="print" onload="this.media='all'">
  <noscript><link rel="stylesheet" href="/css/style.min.css"></noscript>

  <!-- Phosphor Icons -->
  <link rel="stylesheet" href="/fonts/phosphor/regular/style.css" media="print" onload="this.media='all'">
  <link rel="stylesheet" href="/fonts/phosphor/fill/style.css" media="print" onload="this.media='all'">

  <style>
    /* === CRITICAL CSS: inlined for instant FCP === */
    *,*::before,*::after{box-sizing:border-box;border:0 solid #e5e7eb}body{margin:0;line-height:1.5;font-family:Inter,sans-serif;color:#111;background:#fff;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}h1,h2,h3,h4,p{margin:0}img{display:block;max-width:100%;height:auto}a{color:inherit;text-decoration:inherit}button,input,textarea{font-family:inherit;font-size:100%;line-height:inherit;color:inherit;margin:0;padding:0}
    @font-face{font-family:Inter;src:url(/fonts/inter/inter-var-latin.woff2) format('woff2');font-weight:100 900;font-display:swap}
    @font-face{font-family:Oswald;src:url(/fonts/oswald/oswald-var-latin.woff2) format('woff2');font-weight:200 700;font-display:swap}
    @font-face{font-family:'Playfair Display';src:url(/fonts/playfair/playfair-display-var-latin.woff2) format('woff2');font-weight:400 900;font-display:swap}
    .fixed{position:fixed}.relative{position:relative}.absolute{position:absolute}.top-0{top:0}.right-0{right:0}.left-0{left:0}.inset-0{inset:0}.z-10{z-index:10}.z-50{z-index:50}.flex{display:flex}.inline-flex{display:inline-flex}.hidden{display:none}.block{display:block}.h-16{height:4rem}.h-full{height:100%}.w-full{width:100%}.min-h-\[90vh\]{min-height:90vh}.max-w-6xl{max-width:72rem}.max-w-2xl{max-width:42rem}.max-w-xl{max-width:36rem}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-center{align-items:center}.justify-between{justify-content:space-between}.justify-center{justify-content:center}.gap-1\.5{gap:.375rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.gap-6{gap:1.5rem}.mx-auto{margin-left:auto;margin-right:auto}.mb-1{margin-bottom:.25rem}.mb-2{margin-bottom:.5rem}.mb-6{margin-bottom:1.5rem}.mb-8{margin-bottom:2rem}.mt-10{margin-top:2.5rem}.ml-1{margin-left:.25rem}.px-1\.5{padding-left:.375rem;padding-right:.375rem}.px-4{padding-left:1rem;padding-right:1rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.px-8{padding-left:2rem;padding-right:2rem}.py-1{padding-top:.25rem;padding-bottom:.25rem}.py-4{padding-top:1rem;padding-bottom:1rem}.py-20{padding-top:5rem;padding-bottom:5rem}.pt-16{padding-top:4rem}.text-xs{font-size:.75rem;line-height:1rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.text-4xl{font-size:2.25rem;line-height:2.5rem}.font-bold{font-weight:700}.font-semibold{font-weight:600}.font-medium{font-weight:500}.font-sans{font-family:Inter,sans-serif}.font-display{font-family:'Playfair Display',serif}.leading-tight{line-height:1.25}.leading-relaxed{line-height:1.625}.tracking-tight{letter-spacing:-.025em}.tracking-wide{letter-spacing:.025em}.uppercase{text-transform:uppercase}.text-white{color:#fff}.text-brand-orange{color:#FF5722}.text-brand-dark{color:#111}.text-brand-gray{color:#6B7280}.text-gray-200{color:#e5e7eb}.text-gray-300{color:#d1d5db}.text-yellow-400{color:#facc15}.text-green-400{color:#4ade80}.bg-white{background-color:#fff}.bg-brand-orange{background-color:#FF5722}.bg-white\/95{background-color:rgba(255,255,255,.95)}.bg-white\/10{background-color:rgba(255,255,255,.1)}.object-cover{object-fit:cover}.rounded-lg{border-radius:.5rem}.border-b{border-bottom-width:1px}.border{border-width:1px}.border-gray-100{border-color:#f3f4f6}.border-white\/20{border-color:rgba(255,255,255,.2)}.shadow-lg{box-shadow:0 10px 15px -3px rgba(0,0,0,.1),0 4px 6px -4px rgba(0,0,0,.1)}.shadow-brand-orange\/25{--tw-shadow-color:rgba(255,87,34,.25)}.backdrop-blur-sm{backdrop-filter:blur(4px)}.transition-colors{transition-property:color,background-color,border-color;transition-duration:150ms}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}
    @media(min-width:640px){.sm\:inline{display:inline}.sm\:hidden{display:none}.sm\:px-6{padding-left:1.5rem;padding-right:1.5rem}.sm\:py-32{padding-top:8rem;padding-bottom:8rem}.sm\:text-5xl{font-size:3rem;line-height:1}.sm\:text-xl{font-size:1.25rem;line-height:1.75rem}.sm\:flex-row{flex-direction:row}.sm\:gap-4{gap:1rem}}
    @media(min-width:1024px){.lg\:text-6xl{font-size:3.75rem;line-height:1}}

    /* === PAGE-SPECIFIC STYLES === */
    html { scroll-behavior: smooth; scroll-padding-top: 80px; }
    .form-step { display: none; opacity: 0; transform: translateX(20px); transition: opacity 0.3s ease, transform 0.3s ease; }
    .form-step.active { display: block; opacity: 1; transform: translateX(0); }
    .selection-card { transition: all 0.2s ease; cursor: pointer; }
    .selection-card:hover { border-color: #FF5722; background-color: #FFF7F5; }
    .selection-card.selected { border-color: #FF5722; background-color: #FFF7F5; box-shadow: 0 0 0 2px #FF5722; }
    .progress-fill { transition: width 0.4s ease; }
    .hero-gradient { background: linear-gradient(135deg, rgba(17,17,17,0.85) 0%, rgba(17,17,17,0.5) 50%, rgba(17,17,17,0.3) 100%); }
    .form-input:focus { outline: none; border-color: #FF5722; box-shadow: 0 0 0 3px rgba(255,87,34,0.15); }
    .fade-in { opacity: 0; transform: translateY(24px); transition: opacity 0.6s ease, transform 0.6s ease; }
    .fade-in.visible { opacity: 1; transform: translateY(0); }
    .portfolio-img { transition: transform 0.4s ease; }
    .portfolio-img:hover { transform: scale(1.03); }
    a, button, label, input, textarea { touch-action: manipulation; }
    @media (max-width: 639px) {
      .selection-card { min-height: 68px; display: flex; flex-direction: column; align-items: center; justify-content: center; }
      .form-input { font-size: 16px; }
    }
  </style>
</head>

<body class="bg-white text-brand-dark font-sans antialiased">

  <!-- ============ MINIMAL HEADER ============ -->
  <header class="fixed top-0 left-0 right-0 z-50 bg-white/95 backdrop-blur-sm border-b border-gray-100">
    <div class="max-w-6xl mx-auto px-4 sm:px-6 h-16 flex items-center justify-between">
      <!-- Logo -->
      <a href="https://4builders-amsterdam.nl" class="flex items-center gap-2" aria-label="4Builders Amsterdam">
        <span class="text-xl font-bold tracking-tight">
          <span class="text-brand-orange">4</span><span class="text-brand-dark">Builders</span>
        </span>
        <span class="hidden sm:inline text-xs text-brand-gray font-medium tracking-wide uppercase">Amsterdam</span>
      </a>
      <div class="flex items-center gap-3 sm:gap-4">
        <!-- Language toggle -->
        <div class="flex items-center text-sm font-medium">
          <span class="text-brand-dark font-bold px-1.5 py-1">NL</span>
          <span class="text-gray-300">|</span>
          <a href="/en/renovation/quote/" class="text-brand-gray hover:text-brand-dark px-1.5 py-1 transition-colors">EN</a>
        </div>
        <!-- Phone -->
        <a href="tel:+31618922134" class="flex items-center gap-2 text-sm font-medium text-brand-dark hover:text-brand-orange transition-colors">
          <i class="ph ph-phone text-brand-orange text-lg"></i>
          <span class="hidden sm:inline">+31 6 18 92 21 34</span>
          <span class="sm:hidden">Bel ons</span>
        </a>
      </div>
    </div>
  </header>

  <!-- ============ HERO SECTION ============ -->
  <section class="relative min-h-[90vh] flex items-center pt-16" id="hero">
    <!-- Background image -->
    <div class="absolute inset-0">
      <img src="../../img/renovatie/keuken-en-woonkamer-woning-amsterdam-centrum_1_gebruiken.webp"
           alt="Luxe gerenoveerde woning Amsterdam Centrum"
           class="w-full h-full object-cover" loading="eager" fetchpriority="high" srcset="../../img/responsive/renovatie/keuken-en-woonkamer-woning-amsterdam-centrum_1_gebruiken-480w.webp 480w, ../../img/renovatie/keuken-en-woonkamer-woning-amsterdam-centrum_1_gebruiken.webp 1536w" sizes="100vw">
      <div class="hero-gradient absolute inset-0"></div>
    </div>

    <!-- Hero content -->
    <div class="relative z-10 max-w-6xl mx-auto px-4 sm:px-6 py-20 sm:py-32">
      <div class="max-w-2xl">
        <h1 class="font-display text-4xl sm:text-5xl lg:text-6xl font-bold text-white leading-tight mb-6">
          Uw Amsterdams pand in topconditie. <span class="text-brand-orange">Zonder de kopzorgen.</span>
        </h1>
        <p class="text-lg sm:text-xl text-gray-200 leading-relaxed mb-4 max-w-xl">
          Hoogwaardige renovatie en onderhoud met de betrouwbaarheid van de Achterhoek. Wij spreken vloeiend Amsterdams, Engels en vakmanschap.
        </p>
        <p class="text-base sm:text-lg text-gray-300 leading-relaxed mb-8 max-w-xl">
          Uw renovatie van A tot Z geregeld. Wij voeren de regie over het hele project, inclusief onze vaste partners voor specialistisch werk. Eén aanspreekpunt, volledige ontzorging.
        </p>
        <div class="flex flex-col sm:flex-row gap-4">
          <a href="#offerte" class="inline-flex items-center justify-center gap-2 bg-brand-orange hover:bg-brand-orange-hover text-white font-semibold px-8 py-4 rounded-lg text-lg transition-colors shadow-lg shadow-brand-orange/25">
            Vraag een prijsindicatie aan
            <i class="ph ph-arrow-right text-xl"></i>
          </a>
          <a href="https://wa.me/31618922134?text=Hallo%2C%20ik%20heb%20interesse%20in%20jullie%20diensten%20via%20de%20landingspagina."
             target="_blank" rel="noopener"
             class="inline-flex items-center justify-center gap-2 bg-white/10 hover:bg-white/20 text-white font-medium px-6 py-4 rounded-lg border border-white/20 transition-colors backdrop-blur-sm">
            <i class="ph ph-whatsapp-logo text-xl text-green-400"></i>
            WhatsApp ons direct
          </a>
        </div>
        <!-- Trust signals -->
        <div class="flex flex-wrap items-center gap-6 mt-10 text-sm text-gray-300">
          <span class="flex items-center gap-1.5">
            <i class="ph-fill ph-star text-yellow-400"></i>
            <i class="ph-fill ph-star text-yellow-400"></i>
            <i class="ph-fill ph-star text-yellow-400"></i>
            <i class="ph-fill ph-star text-yellow-400"></i>
            <i class="ph-fill ph-star text-yellow-400"></i>
            <span class="ml-1 font-medium text-white">5.0</span> Google Reviews
          </span>
          <span class="flex items-center gap-1.5">
            <i class="ph ph-shield-check text-green-400"></i>
            Volledig verzekerd
          </span>
          <span class="flex items-center gap-1.5">
            <i class="ph ph-clock text-brand-orange"></i>
            Reactie binnen 24 uur
          </span>
          <span class="flex items-center gap-1.5">
            <i class="ph ph-handshake text-brand-orange"></i>
            Vaste prijsafspraak
          </span>
          <span class="flex items-center gap-1.5">
            <i class="ph ph-sparkle text-blue-400"></i>
            Schoon opgeleverd
          </span>
        </div>
      </div>
    </div>
  </section>

  <!-- ============ AMSTERDAM-SPECIFIC TRUST BAR ============ -->
  <section class="bg-brand-dark text-white py-8" id="trust">
    <div class="max-w-6xl mx-auto px-4 sm:px-6">
      <div class="grid grid-cols-1 sm:grid-cols-3 gap-6 sm:gap-8">
        <div class="flex items-start gap-4">
          <div class="flex-shrink-0 w-12 h-12 bg-brand-orange/10 rounded-xl flex items-center justify-center">
            <i class="ph ph-car text-2xl text-brand-orange"></i>
          </div>
          <div>
            <h3 class="font-semibold text-white mb-1">Parkeervergunningen geregeld</h3>
            <p class="text-sm text-gray-400">Wij regelen alle vergunningen voor materiaal en personeel in het centrum.</p>
          </div>
        </div>
        <div class="flex items-start gap-4">
          <div class="flex-shrink-0 w-12 h-12 bg-brand-orange/10 rounded-xl flex items-center justify-center">
            <i class="ph ph-ruler text-2xl text-brand-orange"></i>
          </div>
          <div>
            <h3 class="font-semibold text-white mb-1">Specialisten in afbouw</h3>
            <p class="text-sm text-gray-400">Van schilderwerk en vloeren tot timmerwerk en bestrating. Wij leveren een instapklaar resultaat.</p>
          </div>
        </div>
        <div class="flex items-start gap-4">
          <div class="flex-shrink-0 w-12 h-12 bg-brand-orange/10 rounded-xl flex items-center justify-center">
            <i class="ph ph-translate text-2xl text-brand-orange"></i>
          </div>
          <div>
            <h3 class="font-semibold text-white mb-1">Expat-friendly communication</h3>
            <p class="text-sm text-gray-400">Vloeiend Engels en Nederlands. Transparante communicatie, altijd.</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ============ SERVICE GRID ============ -->
  <section class="py-20 sm:py-28 bg-white" id="diensten">
    <div class="max-w-6xl mx-auto px-4 sm:px-6">
      <div class="text-center mb-14 fade-in">
        <span class="text-brand-orange font-semibold text-sm tracking-widest uppercase mb-3 block">Onze Diensten</span>
        <h2 class="font-display text-3xl sm:text-4xl font-bold text-brand-dark">
          Vakmanschap voor elk project
        </h2>
      </div>

      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 fade-in">
        <!-- Totaalrenovatie -->
        <div class="group bg-white border border-gray-200 rounded-2xl p-6 hover:border-brand-orange hover:shadow-xl hover:shadow-brand-orange/5 transition-all">
          <div class="w-14 h-14 bg-brand-orange/10 rounded-xl flex items-center justify-center mb-5 group-hover:bg-brand-orange/20 transition-colors">
            <i class="ph ph-house text-3xl text-brand-orange"></i>
          </div>
          <h3 class="text-lg font-bold mb-2">Totaalrenovatie</h3>
          <p class="text-brand-gray text-sm leading-relaxed mb-4">Complete verbouwingen van grachtenpanden en appartementen. Van ontwerp tot oplevering.</p>
          <a href="#offerte" class="text-brand-orange font-semibold text-sm inline-flex items-center gap-1 hover:gap-2 transition-all">
            Offerte aanvragen <i class="ph ph-arrow-right"></i>
          </a>
        </div>

        <!-- Schilderwerk -->
        <div class="group bg-white border border-gray-200 rounded-2xl p-6 hover:border-brand-orange hover:shadow-xl hover:shadow-brand-orange/5 transition-all">
          <div class="w-14 h-14 bg-brand-orange/10 rounded-xl flex items-center justify-center mb-5 group-hover:bg-brand-orange/20 transition-colors">
            <i class="ph ph-paint-roller text-3xl text-brand-orange"></i>
          </div>
          <h3 class="text-lg font-bold mb-2">Premium Schilderwerk</h3>
          <p class="text-brand-gray text-sm leading-relaxed mb-4">Binnen- en buitenschilderwerk met premium materialen. Bescherming en esthetiek voor uw pand.</p>
          <a href="#offerte" class="text-brand-orange font-semibold text-sm inline-flex items-center gap-1 hover:gap-2 transition-all">
            Offerte aanvragen <i class="ph ph-arrow-right"></i>
          </a>
        </div>

        <!-- Vloeren -->
        <div class="group bg-white border border-gray-200 rounded-2xl p-6 hover:border-brand-orange hover:shadow-xl hover:shadow-brand-orange/5 transition-all">
          <div class="w-14 h-14 bg-brand-orange/10 rounded-xl flex items-center justify-center mb-5 group-hover:bg-brand-orange/20 transition-colors">
            <i class="ph ph-square-split-horizontal text-3xl text-brand-orange"></i>
          </div>
          <h3 class="text-lg font-bold mb-2">Vloeren</h3>
          <p class="text-brand-gray text-sm leading-relaxed mb-4">Visgraat, parket, tegels en meer. Vakkundige vloerafwerking voor een stijlvol interieur.</p>
          <a href="#offerte" class="text-brand-orange font-semibold text-sm inline-flex items-center gap-1 hover:gap-2 transition-all">
            Offerte aanvragen <i class="ph ph-arrow-right"></i>
          </a>
        </div>

        <!-- Periodiek Onderhoud -->
        <div class="group bg-white border border-gray-200 rounded-2xl p-6 hover:border-brand-orange hover:shadow-xl hover:shadow-brand-orange/5 transition-all">
          <div class="w-14 h-14 bg-brand-orange/10 rounded-xl flex items-center justify-center mb-5 group-hover:bg-brand-orange/20 transition-colors">
            <i class="ph ph-wrench text-3xl text-brand-orange"></i>
          </div>
          <h3 class="text-lg font-bold mb-2">Periodiek Onderhoud</h3>
          <p class="text-brand-gray text-sm leading-relaxed mb-4">Planmatig onderhoud en reparaties. Behoud de waarde van uw vastgoed zonder gedoe.</p>
          <a href="#offerte" class="text-brand-orange font-semibold text-sm inline-flex items-center gap-1 hover:gap-2 transition-all">
            Offerte aanvragen <i class="ph ph-arrow-right"></i>
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- ============ PORTFOLIO ============ -->
  <section class="py-20 sm:py-28 bg-brand-light" id="portfolio">
    <div class="max-w-6xl mx-auto px-4 sm:px-6">
      <div class="text-center mb-14 fade-in">
        <span class="text-brand-orange font-semibold text-sm tracking-widest uppercase mb-3 block">Recent Werk</span>
        <h2 class="font-display text-3xl sm:text-4xl font-bold text-brand-dark">
          Amsterdam Centrum renovatie
        </h2>
        <p class="text-brand-gray mt-4 max-w-xl mx-auto">Van vloeren en timmerwerk tot schilderwerk en afwerking — elk detail met zorg.</p>
      </div>

      <div class="grid grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 fade-in">
        <div class="overflow-hidden rounded-xl aspect-[4/3]">
          <img src="../../img/renovatie/woonkamer-voorkant-woning-amsterdam-centrum_visgraat.webp"
               alt="Woonkamer met visgraat vloer Amsterdam Centrum"
               class="portfolio-img w-full h-full object-cover" loading="lazy" srcset="../../img/responsive/renovatie/woonkamer-voorkant-woning-amsterdam-centrum_visgraat-480w.webp 480w, ../../img/renovatie/woonkamer-voorkant-woning-amsterdam-centrum_visgraat.webp 1024w" sizes="(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 33vw">
        </div>
        <div class="overflow-hidden rounded-xl aspect-[4/3]">
          <img src="../../img/renovatie/keuken-woning-amsterdam-centrum_gebruiken.webp"
               alt="Renovatie interieur Amsterdam Centrum"
               class="portfolio-img w-full h-full object-cover" loading="lazy" srcset="../../img/responsive/renovatie/keuken-woning-amsterdam-centrum_gebruiken-480w.webp 480w, ../../img/renovatie/keuken-woning-amsterdam-centrum_gebruiken.webp 1024w" sizes="(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 33vw">
        </div>
        <div class="overflow-hidden rounded-xl aspect-[4/3]">
          <img src="../../img/renovatie/bad-douche-woning-amsterdam-centrum_gebruiken.webp"
               alt="Interieur detail Amsterdam Centrum"
               class="portfolio-img w-full h-full object-cover" loading="lazy">
        </div>
        <div class="overflow-hidden rounded-xl aspect-[4/3]">
          <img src="../../img/renovatie/patio-woning-amsterdam-centrum_gebruiken.webp"
               alt="Patio en buitenruimte Amsterdam grachtenpand"
               class="portfolio-img w-full h-full object-cover" loading="lazy" srcset="../../img/responsive/renovatie/patio-woning-amsterdam-centrum_gebruiken-480w.webp 480w, ../../img/renovatie/patio-woning-amsterdam-centrum_gebruiken.webp 1536w" sizes="(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 33vw">
        </div>
        <div class="overflow-hidden rounded-xl aspect-[4/3]">
          <img src="../../img/renovatie/bedroom-woning-amsterdam-centrum_gebruiken.webp"
               alt="Slaapkamer afwerking Amsterdam Centrum"
               class="portfolio-img w-full h-full object-cover" loading="lazy" srcset="../../img/responsive/renovatie/bedroom-woning-amsterdam-centrum_gebruiken-480w.webp 480w, ../../img/renovatie/bedroom-woning-amsterdam-centrum_gebruiken.webp 1536w" sizes="(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 33vw">
        </div>
        <div class="overflow-hidden rounded-xl aspect-[4/3]">
          <img src="../../img/renovatie/schuifdeur-toilet-grachtenwoning-amsterdam-centrum_gebruiken.webp"
               alt="Op maat gemaakte schuifdeur grachtenwoning"
               class="portfolio-img w-full h-full object-cover" loading="lazy" srcset="../../img/responsive/renovatie/schuifdeur-toilet-grachtenwoning-amsterdam-centrum_gebruiken-480w.webp 480w, ../../img/renovatie/schuifdeur-toilet-grachtenwoning-amsterdam-centrum_gebruiken.webp 1536w" sizes="(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 33vw">
        </div>
      </div>
    </div>
  </section>

  <!-- ============ TESTIMONIALS ============ -->
  <section class="py-20 sm:py-28 bg-brand-dark" id="reviews">
    <div class="max-w-6xl mx-auto px-4 sm:px-6">
      <div class="text-center mb-14 fade-in">
        <span class="text-brand-orange font-semibold text-sm tracking-widest uppercase mb-3 block">Ervaringen</span>
        <h2 class="font-display text-3xl sm:text-4xl font-bold text-white">
          Wat onze opdrachtgevers zeggen
        </h2>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-3 gap-6 fade-in">
        <!-- Testimonial 1 -->
        <div class="bg-white/5 backdrop-blur-sm border border-white/10 rounded-2xl p-6 sm:p-8">
          <div class="flex gap-1 mb-4">
            <i class="ph-fill ph-star text-yellow-400"></i>
            <i class="ph-fill ph-star text-yellow-400"></i>
            <i class="ph-fill ph-star text-yellow-400"></i>
            <i class="ph-fill ph-star text-yellow-400"></i>
            <i class="ph-fill ph-star text-yellow-400"></i>
          </div>
          <p class="text-gray-300 leading-relaxed mb-6">"Onze volledige verdieping is gerenoveerd door 4Builders. Uitstekende communicatie, netjes en op tijd opgeleverd. Het resultaat overtrof onze verwachtingen."</p>
          <div>
            <p class="font-semibold text-white">Thomas & Lieke V.</p>
            <p class="text-sm text-brand-orange">Keizersgracht — Totaalrenovatie</p>
          </div>
        </div>

        <!-- Testimonial 2 -->
        <div class="bg-white/5 backdrop-blur-sm border border-white/10 rounded-2xl p-6 sm:p-8">
          <div class="flex gap-1 mb-4">
            <i class="ph-fill ph-star text-yellow-400"></i>
            <i class="ph-fill ph-star text-yellow-400"></i>
            <i class="ph-fill ph-star text-yellow-400"></i>
            <i class="ph-fill ph-star text-yellow-400"></i>
            <i class="ph-fill ph-star text-yellow-400"></i>
          </div>
          <p class="text-gray-300 leading-relaxed mb-6">"As expats, we were nervous about renovation in Amsterdam. Mark and his team made the whole process smooth. They communicated clearly in English and delivered beautiful work."</p>
          <div>
            <p class="font-semibold text-white">James & Sarah W.</p>
            <p class="text-sm text-brand-orange">Oud-Zuid — Apartment renovation</p>
          </div>
        </div>

        <!-- Testimonial 3 -->
        <div class="bg-white/5 backdrop-blur-sm border border-white/10 rounded-2xl p-6 sm:p-8">
          <div class="flex gap-1 mb-4">
            <i class="ph-fill ph-star text-yellow-400"></i>
            <i class="ph-fill ph-star text-yellow-400"></i>
            <i class="ph-fill ph-star text-yellow-400"></i>
            <i class="ph-fill ph-star text-yellow-400"></i>
            <i class="ph-fill ph-star text-yellow-400"></i>
          </div>
          <p class="text-gray-300 leading-relaxed mb-6">"Het hele pand van buiten geschilderd. Professioneel, snel en een eerlijke prijs. Achterhoekse nuchterheid gecombineerd met Amsterdamse kwaliteit. Aanrader!"</p>
          <div>
            <p class="font-semibold text-white">Marieke de B.</p>
            <p class="text-sm text-brand-orange">Jordaan — Schilderwerk buitenzijde</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- ============ MULTI-STEP LEAD FORM ============ -->
  <section class="pt-6 sm:pt-10 pb-20 sm:pb-44 bg-white" id="offerte">
    <div class="max-w-2xl mx-auto px-4 sm:px-6">
      <div class="text-center mb-6 fade-in">
        <span class="text-brand-orange font-semibold text-sm tracking-widest uppercase mb-2 block">Vrijblijvend</span>
        <h2 class="font-display text-3xl sm:text-4xl font-bold text-brand-dark mb-2">
          Ontvang uw prijsindicatie
        </h2>
        <p class="text-brand-gray">Vier simpele stappen. Reactie binnen 24 uur.</p>
      </div>

      <div class="bg-white border border-gray-200 rounded-2xl shadow-xl shadow-gray-200/50 p-5 sm:p-8 fade-in">
        <!-- Progress bar -->
        <div class="mb-6">
          <div class="flex justify-between text-sm font-medium mb-3">
            <span id="step-label-1" class="text-brand-orange cursor-pointer hover:underline" onclick="goToStepDirect(1)">1. Project</span>
            <span id="step-label-2" class="text-gray-400" onclick="goToStepDirect(2)">2. Locatie</span>
            <span id="step-label-3" class="text-gray-400" onclick="goToStepDirect(3)">3. Planning</span>
            <span id="step-label-4" class="text-gray-400" onclick="goToStepDirect(4)">4. Contact</span>
          </div>
          <div class="w-full bg-gray-200 rounded-full h-1.5">
            <div id="progress-bar" class="progress-fill bg-brand-orange h-1.5 rounded-full" style="width: 25%"></div>
          </div>
        </div>

        <form id="leadForm" novalidate>
          <!-- Honeypot -->
          <input type="text" name="honeypot" class="hidden" tabindex="-1" autocomplete="off">

          <!-- ===== STEP 1: Project Type ===== -->
          <div id="step-1" class="form-step active">
            <h3 class="text-xl font-bold mb-2">Wat voor project betreft het?</h3>
            <p class="text-brand-gray text-sm mb-4">Selecteer het type werkzaamheden.</p>

            <div class="grid grid-cols-2 lg:grid-cols-4 gap-3" id="service-cards">
              <label class="selection-card border-2 border-gray-200 rounded-xl p-3 sm:p-4 text-center">
                <input type="radio" name="service" value="Renovatie" class="hidden" data-slug="renovatie">
                <i class="ph ph-house text-2xl sm:text-3xl text-brand-orange mb-1 sm:mb-2 block"></i>
                <span class="font-semibold text-xs sm:text-sm block">Renovatie</span>
              </label>
              <label class="selection-card border-2 border-gray-200 rounded-xl p-3 sm:p-4 text-center">
                <input type="radio" name="service" value="Schilderwerk" class="hidden" data-slug="schilderwerk">
                <i class="ph ph-paint-roller text-2xl sm:text-3xl text-brand-orange mb-1 sm:mb-2 block"></i>
                <span class="font-semibold text-xs sm:text-sm block">Schilderwerk</span>
              </label>
              <label class="selection-card border-2 border-gray-200 rounded-xl p-3 sm:p-4 text-center">
                <input type="radio" name="service" value="Vloeren" class="hidden" data-slug="vloeren">
                <i class="ph ph-square-split-horizontal text-2xl sm:text-3xl text-brand-orange mb-1 sm:mb-2 block"></i>
                <span class="font-semibold text-xs sm:text-sm block">Vloeren</span>
              </label>
              <label class="selection-card border-2 border-gray-200 rounded-xl p-3 sm:p-4 text-center">
                <input type="radio" name="service" value="Timmerwerk" class="hidden" data-slug="timmerwerk">
                <i class="ph ph-hammer text-2xl sm:text-3xl text-brand-orange mb-1 sm:mb-2 block"></i>
                <span class="font-semibold text-xs sm:text-sm block">Timmerwerk</span>
              </label>
              <label class="selection-card border-2 border-gray-200 rounded-xl p-3 sm:p-4 text-center">
                <input type="radio" name="service" value="Bestrating" class="hidden" data-slug="bestrating">
                <i class="ph ph-wall text-2xl sm:text-3xl text-brand-orange mb-1 sm:mb-2 block"></i>
                <span class="font-semibold text-xs sm:text-sm block">Bestrating</span>
              </label>
              <label class="selection-card border-2 border-gray-200 rounded-xl p-3 sm:p-4 text-center">
                <input type="radio" name="service" value="VvE Beheer" class="hidden" data-slug="vve">
                <i class="ph ph-buildings text-2xl sm:text-3xl text-brand-orange mb-1 sm:mb-2 block"></i>
                <span class="font-semibold text-xs sm:text-sm block">VvE Beheer</span>
              </label>
              <label class="selection-card border-2 border-gray-200 rounded-xl p-3 sm:p-4 text-center">
                <input type="radio" name="service" value="Onderhoud" class="hidden" data-slug="onderhoud">
                <i class="ph ph-wrench text-2xl sm:text-3xl text-brand-orange mb-1 sm:mb-2 block"></i>
                <span class="font-semibold text-xs sm:text-sm block">Onderhoud</span>
              </label>
              <label class="selection-card border-2 border-gray-200 rounded-xl p-3 sm:p-4 text-center">
                <input type="radio" name="service" value="Anders" class="hidden" data-slug="anders">
                <i class="ph ph-dots-three-outline text-2xl sm:text-3xl text-brand-orange mb-1 sm:mb-2 block"></i>
                <span class="font-semibold text-xs sm:text-sm block">Anders</span>
              </label>
            </div>
            <p id="error-step1" class="text-red-500 text-sm mt-3 hidden">Selecteer een optie om verder te gaan.</p>
          </div>

          <!-- ===== STEP 2: Neighborhood ===== -->
          <div id="step-2" class="form-step">
            <h3 class="text-xl font-bold mb-2">In welke buurt bevindt het pand zich?</h3>
            <p class="text-brand-gray text-sm mb-6">Dit helpt ons met de planning.</p>

            <div class="grid grid-cols-2 sm:grid-cols-3 gap-3" id="neighborhood-cards">
              <label class="selection-card border-2 border-gray-200 rounded-xl p-4 text-center">
                <input type="radio" name="neighborhood" value="Centrum" class="hidden">
                <span class="font-semibold text-sm block">Centrum</span>
              </label>
              <label class="selection-card border-2 border-gray-200 rounded-xl p-4 text-center">
                <input type="radio" name="neighborhood" value="Grachtengordel" class="hidden">
                <span class="font-semibold text-sm block">Grachtengordel</span>
              </label>
              <label class="selection-card border-2 border-gray-200 rounded-xl p-4 text-center">
                <input type="radio" name="neighborhood" value="Jordaan" class="hidden">
                <span class="font-semibold text-sm block">Jordaan</span>
              </label>
              <label class="selection-card border-2 border-gray-200 rounded-xl p-4 text-center">
                <input type="radio" name="neighborhood" value="Oud-Zuid" class="hidden">
                <span class="font-semibold text-sm block">Oud-Zuid</span>
              </label>
              <label class="selection-card border-2 border-gray-200 rounded-xl p-4 text-center">
                <input type="radio" name="neighborhood" value="De Pijp" class="hidden">
                <span class="font-semibold text-sm block">De Pijp</span>
              </label>
              <label class="selection-card border-2 border-gray-200 rounded-xl p-4 text-center">
                <input type="radio" name="neighborhood" value="Oud-West" class="hidden">
                <span class="font-semibold text-sm block">Oud-West</span>
              </label>
              <label class="selection-card border-2 border-gray-200 rounded-xl p-4 text-center">
                <input type="radio" name="neighborhood" value="Rivierenbuurt" class="hidden">
                <span class="font-semibold text-sm block">Rivierenbuurt</span>
              </label>
              <label class="selection-card border-2 border-gray-200 rounded-xl p-4 text-center">
                <input type="radio" name="neighborhood" value="Plantage" class="hidden">
                <span class="font-semibold text-sm block">Plantage</span>
              </label>
              <label class="selection-card border-2 border-gray-200 rounded-xl p-4 text-center">
                <input type="radio" name="neighborhood" value="Anders" class="hidden">
                <span class="font-semibold text-sm block">Anders</span>
              </label>
            </div>
            <p id="error-step2" class="text-red-500 text-sm mt-3 hidden">Selecteer een buurt om verder te gaan.</p>

            <div class="mt-6">
              <label for="zip" class="block text-sm font-medium text-brand-dark mb-1.5">Postcode *</label>
              <input type="text" id="zip" name="zip" required placeholder="1234 AB" maxlength="7"
                     class="form-input w-full max-w-[200px] border border-gray-300 rounded-lg px-4 py-3 text-sm transition-all uppercase">
              <p id="error-zip" class="text-red-500 text-xs mt-1 hidden">Vul een geldige postcode in (bijv. 1234 AB).</p>
            </div>

            <div class="flex items-center justify-between mt-6">
              <button type="button" onclick="goToStep(1)" class="text-brand-gray hover:text-brand-dark text-sm font-medium inline-flex items-center gap-1 transition-colors">
                <i class="ph ph-arrow-left"></i> Terug
              </button>
              <button type="button" onclick="goToStep(3)" id="step2-next"
                      class="bg-brand-orange hover:bg-brand-orange-hover text-white font-semibold px-6 py-3 rounded-lg transition-colors inline-flex items-center gap-2 text-sm">
                Volgende <i class="ph ph-arrow-right"></i>
              </button>
            </div>
          </div>

          <!-- ===== STEP 3: Budget & Planning ===== -->
          <div id="step-3" class="form-step">
            <h3 class="text-xl font-bold mb-2">Budget en planning</h3>
            <p class="text-brand-gray text-sm mb-6">Helpt ons om snel een passend voorstel te maken.</p>

            <div class="mb-6">
              <p class="text-sm font-medium text-brand-dark mb-3">Indicatief budget *</p>
              <div class="grid grid-cols-2 sm:grid-cols-3 gap-3" id="budget-cards">
                <label class="selection-card border-2 border-gray-200 rounded-xl p-3 text-center">
                  <input type="radio" name="budget" value="€ 0 – € 5.000" class="hidden">
                  <span class="font-semibold text-sm block">€ 0 – € 5k</span>
                </label>
                <label class="selection-card border-2 border-gray-200 rounded-xl p-3 text-center">
                  <input type="radio" name="budget" value="€ 5.000 – € 15.000" class="hidden">
                  <span class="font-semibold text-sm block">€ 5k – € 15k</span>
                </label>
                <label class="selection-card border-2 border-gray-200 rounded-xl p-3 text-center">
                  <input type="radio" name="budget" value="€ 15.000 – € 50.000" class="hidden">
                  <span class="font-semibold text-sm block">€ 15k – € 50k</span>
                </label>
                <label class="selection-card border-2 border-gray-200 rounded-xl p-3 text-center">
                  <input type="radio" name="budget" value="€ 50.000+" class="hidden">
                  <span class="font-semibold text-sm block">€ 50k+</span>
                </label>
                <label class="selection-card border-2 border-gray-200 rounded-xl p-3 text-center">
                  <input type="radio" name="budget" value="Nog onbekend" class="hidden">
                  <span class="font-semibold text-sm block">Nog onbekend</span>
                </label>
              </div>
              <p id="error-budget" class="text-red-500 text-sm mt-2 hidden">Selecteer een budgetrange.</p>
            </div>

            <div>
              <p class="text-sm font-medium text-brand-dark mb-3">Gewenste startdatum *</p>
              <div class="grid grid-cols-2 sm:grid-cols-3 gap-3" id="timeline-cards">
                <label class="selection-card border-2 border-gray-200 rounded-xl p-3 text-center">
                  <input type="radio" name="timeline" value="Zo snel mogelijk" class="hidden">
                  <span class="font-semibold text-sm block">Zo snel mogelijk</span>
                </label>
                <label class="selection-card border-2 border-gray-200 rounded-xl p-3 text-center">
                  <input type="radio" name="timeline" value="Binnen 1 maand" class="hidden">
                  <span class="font-semibold text-sm block">Binnen 1 maand</span>
                </label>
                <label class="selection-card border-2 border-gray-200 rounded-xl p-3 text-center">
                  <input type="radio" name="timeline" value="1 – 3 maanden" class="hidden">
                  <span class="font-semibold text-sm block">1 – 3 maanden</span>
                </label>
                <label class="selection-card border-2 border-gray-200 rounded-xl p-3 text-center">
                  <input type="radio" name="timeline" value="3 – 6 maanden" class="hidden">
                  <span class="font-semibold text-sm block">3 – 6 maanden</span>
                </label>
                <label class="selection-card border-2 border-gray-200 rounded-xl p-3 text-center">
                  <input type="radio" name="timeline" value="Flexibel" class="hidden">
                  <span class="font-semibold text-sm block">Flexibel</span>
                </label>
              </div>
              <p id="error-timeline" class="text-red-500 text-sm mt-2 hidden">Selecteer een gewenste startdatum.</p>
            </div>

            <div class="flex items-center justify-between mt-6">
              <button type="button" onclick="goToStep(2)" class="text-brand-gray hover:text-brand-dark text-sm font-medium inline-flex items-center gap-1 transition-colors">
                <i class="ph ph-arrow-left"></i> Terug
              </button>
              <button type="button" onclick="goToStep(4)" id="step3-next"
                      class="bg-brand-orange hover:bg-brand-orange-hover text-white font-semibold px-6 py-3 rounded-lg transition-colors inline-flex items-center gap-2 text-sm">
                Volgende <i class="ph ph-arrow-right"></i>
              </button>
            </div>
          </div>

          <!-- ===== STEP 4: Contact Details ===== -->
          <div id="step-4" class="form-step">
            <h3 class="text-xl font-bold mb-2">Hoe kunnen we u bereiken?</h3>
            <p class="text-brand-gray text-sm mb-6">Vul uw gegevens in. Wij nemen binnen 24 uur contact op.</p>

            <div class="space-y-4">
              <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                <div>
                  <label for="firstname" class="block text-sm font-medium text-brand-dark mb-1.5">Voornaam *</label>
                  <input type="text" id="firstname" name="firstname" required placeholder="Uw voornaam"
                         class="form-input w-full border border-gray-300 rounded-lg px-4 py-3 text-sm transition-all">
                  <p class="text-red-500 text-xs mt-1 hidden" data-error="firstname">Voornaam is verplicht.</p>
                </div>
                <div>
                  <label for="lastname" class="block text-sm font-medium text-brand-dark mb-1.5">Achternaam *</label>
                  <input type="text" id="lastname" name="lastname" required placeholder="Uw achternaam"
                         class="form-input w-full border border-gray-300 rounded-lg px-4 py-3 text-sm transition-all">
                  <p class="text-red-500 text-xs mt-1 hidden" data-error="lastname">Achternaam is verplicht.</p>
                </div>
              </div>
              <div>
                <label for="email" class="block text-sm font-medium text-brand-dark mb-1.5">E-mailadres *</label>
                <input type="email" id="email" name="email" required placeholder="uw@email.nl"
                       class="form-input w-full border border-gray-300 rounded-lg px-4 py-3 text-sm transition-all">
                <p class="text-red-500 text-xs mt-1 hidden" data-error="email">Vul een geldig e-mailadres in.</p>
              </div>
              <div>
                <label for="phone" class="block text-sm font-medium text-brand-dark mb-1.5">Telefoonnummer <span class="text-brand-gray font-normal">(optioneel)</span></label>
                <input type="tel" id="phone" name="phone" placeholder="06 1234 5678"
                       class="form-input w-full border border-gray-300 rounded-lg px-4 py-3 text-sm transition-all">
                <p class="text-red-500 text-xs mt-1 hidden" data-error="phone">Vul een geldig telefoonnummer in.</p>
              </div>
              <p id="error-contact" class="text-red-500 text-sm hidden">Vul minimaal een e-mailadres of telefoonnummer in.</p>
              <div>
                <label for="details" class="block text-sm font-medium text-brand-dark mb-1.5">Toelichting <span class="text-brand-gray font-normal">(optioneel)</span></label>
                <textarea id="details" name="details" rows="3" placeholder="Beschrijf kort uw project..."
                          class="form-input w-full border border-gray-300 rounded-lg px-4 py-3 text-sm transition-all resize-none"></textarea>
              </div>
            </div>

            <!-- Submit button -->
            <button type="submit" id="submit-btn"
                    class="w-full mt-6 bg-brand-orange hover:bg-brand-orange-hover text-white font-bold px-8 py-4 rounded-lg text-lg transition-colors shadow-lg shadow-brand-orange/25 flex items-center justify-center gap-2">
              <span id="submit-text">Ontvang binnen 24u reactie</span>
              <i id="submit-icon" class="ph ph-paper-plane-tilt text-xl"></i>
            </button>

            <p class="text-center text-sm text-brand-gray mt-3 flex items-center justify-center gap-1.5">
              <i class="ph ph-clock text-brand-orange"></i>
              Binnen 24 uur een reactie
            </p>

            <button type="button" onclick="goToStep(3)" class="mt-4 text-brand-gray hover:text-brand-dark text-sm font-medium inline-flex items-center gap-1 transition-colors">
              <i class="ph ph-arrow-left"></i> Terug
            </button>

            <!-- Feedback -->
            <div id="form-feedback" class="hidden mt-4 p-4 rounded-lg text-sm"></div>
          </div>
        </form>

        <!-- Success state (hidden by default) -->
        <div id="form-success" class="hidden text-center py-8">
          <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
            <i class="ph ph-check-circle text-4xl text-green-600"></i>
          </div>
          <h3 class="text-xl font-bold mb-2">Aanvraag ontvangen!</h3>
          <p class="text-brand-gray">Wij nemen binnen 24 uur contact met u op. U kunt ons ook direct bereiken via WhatsApp.</p>
          <a href="https://wa.me/31618922134" target="_blank" rel="noopener"
             class="inline-flex items-center gap-2 mt-4 text-green-600 font-semibold hover:text-green-700 transition-colors">
            <i class="ph ph-whatsapp-logo text-xl"></i> Open WhatsApp
          </a>
        </div>

        <!-- Trust signals under form -->
        <div class="flex flex-wrap justify-center gap-4 mt-6 pt-6 border-t border-gray-100 text-xs text-brand-gray">
          <span class="flex items-center gap-1"><i class="ph ph-lock-simple text-sm"></i> Gegevens beveiligd</span>
          <span class="flex items-center gap-1"><i class="ph ph-shield-check text-sm"></i> Volledig verzekerd</span>
          <span class="flex items-center gap-1"><i class="ph ph-clock text-sm"></i> Reactie binnen 24u</span>
        </div>
      </div>
    </div>
  </section>

  <!-- ============ FOOTER (shared component) ============ -->
  <div id="footer-placeholder"></div>

  <script src="/js/includes.js" defer></script>
  <script>
  document.addEventListener('components-loaded', function() {
    var link = document.querySelector('.mobile-sticky-cta a[href*="offerte"]');
    if (link) link.href = '#offerte';
  });
  </script>

  <!-- ============ JAVASCRIPT ============ -->
  <script>
  (function() {
    'use strict';

    // --- UTM Capture ---
    (function() {
      var params = new URLSearchParams(window.location.search);
      var utmKeys = ['utm_source','utm_medium','utm_campaign','utm_content','utm_term'];
      var hasUtm = utmKeys.some(function(k) { return params.has(k); });
      if (hasUtm) {
        utmKeys.forEach(function(k) { sessionStorage.setItem(k, params.get(k) || ''); });
      }
    })();

    // --- Multi-Step Form Logic ---
    var currentStep = 1;
    var highestStep = 1;
    var totalSteps = 4;

    function updateStepLabels() {
      for (var i = 1; i <= totalSteps; i++) {
        var label = document.getElementById('step-label-' + i);
        if (!label) continue;
        // Color: orange if visited/current, gray if not yet reached
        if (i <= highestStep) {
          label.classList.remove('text-gray-400');
          label.classList.add('text-brand-orange', 'cursor-pointer', 'hover:underline');
        } else {
          label.classList.remove('text-brand-orange', 'cursor-pointer', 'hover:underline');
          label.classList.add('text-gray-400');
        }
        // Bold the current step
        if (i === currentStep) { label.classList.add('font-bold'); }
        else { label.classList.remove('font-bold'); }
      }
    }

    function scrollFormIntoView() {
      setTimeout(function() {
        var el = document.getElementById('offerte');
        if (el) {
          var top = el.getBoundingClientRect().top + window.scrollY - 64;
          window.scrollTo({ top: top, behavior: 'smooth' });
        }
      }, 100);
    }

    window.goToStep = function(step) {
      if (step > currentStep && !validateCurrentStep()) return;
      if (step > currentStep && typeof gtag === 'function') {
        gtag('event', 'form_step_complete', { event_category: 'form', step_number: currentStep, step_name: ['', 'project', 'location', 'planning', 'contact'][currentStep] });
      }

      var currentEl = document.getElementById('step-' + currentStep);
      if (currentEl) currentEl.classList.remove('active');

      currentStep = step;
      if (step > highestStep) highestStep = step;

      var targetEl = document.getElementById('step-' + step);
      if (targetEl) {
        setTimeout(function() { targetEl.classList.add('active'); }, 50);
      }

      document.getElementById('progress-bar').style.width = (step / totalSteps) * 100 + '%';
      updateStepLabels();
      scrollFormIntoView();
    };

    // Click on step label — only go back to already-visited steps
    window.goToStepDirect = function(step) {
      if (step < currentStep) {
        // Going back — always allowed
        var currentEl = document.getElementById('step-' + currentStep);
        if (currentEl) currentEl.classList.remove('active');
        currentStep = step;
        var targetEl = document.getElementById('step-' + step);
        if (targetEl) setTimeout(function() { targetEl.classList.add('active'); }, 50);
        document.getElementById('progress-bar').style.width = (step / totalSteps) * 100 + '%';
        updateStepLabels();
        scrollFormIntoView();
      } else if (step > currentStep && step <= highestStep) {
        // Going forward to a previously visited step — validate current first
        if (!validateCurrentStep()) return;
        var currentEl = document.getElementById('step-' + currentStep);
        if (currentEl) currentEl.classList.remove('active');
        currentStep = step;
        var targetEl = document.getElementById('step-' + step);
        if (targetEl) setTimeout(function() { targetEl.classList.add('active'); }, 50);
        document.getElementById('progress-bar').style.width = (step / totalSteps) * 100 + '%';
        updateStepLabels();
        scrollFormIntoView();
      }
    };

    updateStepLabels();

    function validateCurrentStep() {
      if (currentStep === 1) {
        var checked = document.querySelector('input[name="service"]:checked');
        var err = document.getElementById('error-step1');
        if (!checked) { err.classList.remove('hidden'); return false; }
        err.classList.add('hidden');
        return true;
      }
      if (currentStep === 2) {
        var valid = true;
        var checked = document.querySelector('input[name="neighborhood"]:checked');
        var err = document.getElementById('error-step2');
        if (!checked) { err.classList.remove('hidden'); valid = false; }
        else { err.classList.add('hidden'); }
        var zipVal = (document.getElementById('zip').value || '').trim().toUpperCase();
        var zipErr = document.getElementById('error-zip');
        var zipInput = document.getElementById('zip');
        if (!zipVal || !/^\d{4}\s?[A-Z]{2}$/.test(zipVal)) {
          zipErr.classList.remove('hidden'); zipInput.classList.add('border-red-400'); zipInput.classList.remove('border-gray-300'); valid = false;
        } else { zipErr.classList.add('hidden'); zipInput.classList.remove('border-red-400'); zipInput.classList.add('border-gray-300'); }
        return valid;
      }
      if (currentStep === 3) {
        var valid = true;
        if (!document.querySelector('input[name="budget"]:checked')) {
          document.getElementById('error-budget').classList.remove('hidden'); valid = false;
        } else { document.getElementById('error-budget').classList.add('hidden'); }
        if (!document.querySelector('input[name="timeline"]:checked')) {
          document.getElementById('error-timeline').classList.remove('hidden'); valid = false;
        } else { document.getElementById('error-timeline').classList.add('hidden'); }
        return valid;
      }
      return true;
    }

    // --- Card Selection ---
    function setupCardGroup(containerId, errorId, autoAdvanceStep) {
      document.querySelectorAll('#' + containerId + ' .selection-card').forEach(function(card) {
        card.addEventListener('click', function() {
          card.closest('.grid').querySelectorAll('.selection-card').forEach(function(c) { c.classList.remove('selected'); });
          card.classList.add('selected');
          card.querySelector('input').checked = true;
          if (errorId) document.getElementById(errorId).classList.add('hidden');
          if (autoAdvanceStep) setTimeout(function() { goToStep(autoAdvanceStep); }, 300);
        });
      });
    }

    setupCardGroup('service-cards', 'error-step1', 2);
    setupCardGroup('neighborhood-cards', 'error-step2', null);
    // Scroll to postcode field on mobile after neighborhood selection
    document.querySelectorAll('#neighborhood-cards .selection-card').forEach(function(card) {
      card.addEventListener('click', function() {
        if (window.innerWidth < 640) {
          setTimeout(function() {
            var zipField = document.getElementById('zip');
            if (zipField) zipField.scrollIntoView({ behavior: 'smooth', block: 'center' });
          }, 150);
        }
      });
    });
    setupCardGroup('budget-cards', 'error-budget', null);
    // Scroll to timeline section on mobile after budget selection
    document.querySelectorAll('#budget-cards .selection-card').forEach(function(card) {
      card.addEventListener('click', function() {
        if (window.innerWidth < 640) {
          setTimeout(function() {
            var timelineCards = document.getElementById('timeline-cards');
            if (timelineCards) timelineCards.scrollIntoView({ behavior: 'smooth', block: 'center' });
          }, 150);
        }
      });
    });
    setupCardGroup('timeline-cards', 'error-timeline', null);

    // --- Prefill service from URL param ---
    (function() {
      var params = new URLSearchParams(window.location.search);
      var serviceSlug = params.get('service');
      if (!serviceSlug) return;
      var radio = document.querySelector('#service-cards input[data-slug="' + serviceSlug + '"]');
      if (!radio) return;
      radio.checked = true;
      var card = radio.closest('.selection-card');
      if (card) card.classList.add('selected');
    })();

    // --- Form Validation & Submission ---
    var form = document.getElementById('leadForm');
    var PORTAL_ID = '147527077';
    var FORM_ID = 'c7133bc0-7e37-4a0a-8c2a-419f2d7eeb8f';

    function validateContactStep() {
      var valid = true;

      // Firstname required
      var fn = form.querySelector('[name="firstname"]');
      var fnErr = form.querySelector('[data-error="firstname"]');
      if (!fn.value.trim()) {
        fn.classList.add('border-red-400'); fn.classList.remove('border-gray-300');
        fnErr.classList.remove('hidden'); valid = false;
      } else { fn.classList.remove('border-red-400'); fn.classList.add('border-gray-300'); fnErr.classList.add('hidden'); }

      // Lastname required
      var ln = form.querySelector('[name="lastname"]');
      var lnErr = form.querySelector('[data-error="lastname"]');
      if (!ln.value.trim()) {
        ln.classList.add('border-red-400'); ln.classList.remove('border-gray-300');
        lnErr.classList.remove('hidden'); valid = false;
      } else { ln.classList.remove('border-red-400'); ln.classList.add('border-gray-300'); lnErr.classList.add('hidden'); }

      // Email required
      var email = form.querySelector('[name="email"]');
      var emailErr = form.querySelector('[data-error="email"]');
      if (!email.value.trim()) {
        email.classList.add('border-red-400'); email.classList.remove('border-gray-300');
        emailErr.textContent = 'E-mailadres is verplicht.'; emailErr.classList.remove('hidden'); valid = false;
      } else if (!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email.value)) {
        email.classList.add('border-red-400'); email.classList.remove('border-gray-300');
        emailErr.textContent = 'Vul een geldig e-mailadres in.'; emailErr.classList.remove('hidden'); valid = false;
      } else { email.classList.remove('border-red-400'); email.classList.add('border-gray-300'); emailErr.classList.add('hidden'); }

      // Phone optional — only validate format if filled
      var phone = form.querySelector('[name="phone"]');
      var phoneErr = form.querySelector('[data-error="phone"]');
      if (phone.value.trim() && !/^[\d\s\-+().]{7,}$/.test(phone.value)) {
        phone.classList.add('border-red-400'); phone.classList.remove('border-gray-300');
        phoneErr.textContent = 'Vul een geldig telefoonnummer in.'; phoneErr.classList.remove('hidden'); valid = false;
      } else { phone.classList.remove('border-red-400'); phone.classList.add('border-gray-300'); phoneErr.classList.add('hidden'); }

      return valid;
    }

    // Live validation on blur
    form.querySelectorAll('#step-4 input').forEach(function(input) {
      input.addEventListener('blur', function() { validateContactStep(); });
    });

    form.addEventListener('submit', async function(e) {
      e.preventDefault();

      var honeypot = form.querySelector('input[name="honeypot"]');
      if (honeypot && honeypot.value) return;

      if (!validateContactStep()) return;

      var submitBtn = document.getElementById('submit-btn');
      var submitText = document.getElementById('submit-text');
      var submitIcon = document.getElementById('submit-icon');
      var feedback = document.getElementById('form-feedback');

      // Loading state
      submitBtn.disabled = true;
      submitText.textContent = 'Bezig met verzenden...';
      submitIcon.className = 'ph ph-circle-notch text-xl animate-spin';
      feedback.classList.add('hidden');

      var fd = new FormData(form);

      // Build uw_bericht from service + neighborhood + details
      var service = fd.get('service') || '';
      var neighborhood = fd.get('neighborhood') || '';
      var budget = fd.get('budget') || '';
      var timeline = fd.get('timeline') || '';
      var details = (fd.get('details') || '').trim();
      var zip = (fd.get('zip') || '').trim().toUpperCase();
      var bericht = 'Dienst: ' + service + '\nBuurt: ' + neighborhood + '\nPostcode: ' + zip + '\nBudget: ' + budget + '\nGewenste start: ' + timeline;
      if (details) bericht += '\n\nToelichting: ' + details;
      bericht += '\n\n[Via landing page: /renovatie/offerte/]';

      // UTM params
      var utmSource = sessionStorage.getItem('utm_source') || '';
      var utmMedium = sessionStorage.getItem('utm_medium') || '';
      var utmCampaign = sessionStorage.getItem('utm_campaign') || '';
      var utmContent = sessionStorage.getItem('utm_content') || '';
      var utmTerm = sessionStorage.getItem('utm_term') || '';

      var subData = {
        fields: [
          { name: 'firstname', value: fd.get('firstname') || '' },
          { name: 'lastname', value: fd.get('lastname') || '' },
          { name: 'email', value: fd.get('email') || '' },
          { name: 'phone', value: fd.get('phone') || '' },
          { name: 'zip', value: zip },
          { name: 'uw_bericht', value: bericht },
          { name: 'utm_source', value: utmSource },
          { name: 'utm_medium', value: utmMedium },
          { name: 'utm_campaign', value: utmCampaign },
          { name: 'utm_content', value: utmContent },
          { name: 'utm_term', value: utmTerm }
        ],
        context: { pageUri: window.location.href, pageName: document.title }
      };

      var redirectUrl = '/renovatie/bedankt/?dienst=' + encodeURIComponent(service);

      function showSuccess() {
        // Fire GA4 generate_lead event, then redirect to thank-you page
        if (typeof gtag === 'function') {
          var redirected = false;
          gtag('event', 'generate_lead', {
            currency: 'EUR',
            value: 0,
            event_category: 'form',
            event_label: service,
            utm_source: utmSource,
            utm_medium: utmMedium,
            utm_campaign: utmCampaign,
            event_callback: function() {
              if (!redirected) { redirected = true; window.location.href = redirectUrl; }
            }
          });
          // Fallback: redirect after 1s if callback doesn't fire (e.g. ad blocker)
          setTimeout(function() {
            if (!redirected) { redirected = true; window.location.href = redirectUrl; }
          }, 1000);
        } else {
          window.location.href = redirectUrl;
        }
      }

      function showError(msg) {
        submitBtn.disabled = false;
        submitText.textContent = 'Ontvang binnen 24u reactie';
        submitIcon.className = 'ph ph-paper-plane-tilt text-xl';
        feedback.classList.remove('hidden');
        feedback.className = 'mt-4 p-4 rounded-lg text-sm bg-red-50 text-red-700 border border-red-200';
        feedback.innerHTML = msg || 'Er ging iets mis. Probeer het opnieuw of neem contact op via <a href="https://wa.me/31618922134" class="underline font-semibold">WhatsApp</a>.';
      }

      // Submit to HubSpot
      try {
        var response = await fetch(
          'https://api.hsforms.com/submissions/v3/integration/submit/' + PORTAL_ID + '/' + FORM_ID,
          { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(subData) }
        );
        if (response.ok || response.status === 200) {
          showSuccess();
          return;
        }
        // Non-OK response — try sendBeacon fallback
        throw new Error('HTTP ' + response.status);
      } catch (err) {
        console.warn('Primary submit failed, trying fallback:', err);
        try {
          var beaconParams = new URLSearchParams();
          beaconParams.append('firstname', fd.get('firstname') || '');
          beaconParams.append('lastname', fd.get('lastname') || '');
          beaconParams.append('email', fd.get('email') || '');
          beaconParams.append('phone', fd.get('phone') || '');
          beaconParams.append('uw_bericht', bericht);

          var sent = navigator.sendBeacon(
            'https://forms.hubspot.com/uploads/form/v2/' + PORTAL_ID + '/' + FORM_ID,
            beaconParams
          );
          if (sent) { showSuccess(); return; }
        } catch (e) { console.error('Beacon fallback failed:', e); }

        // Final fallback — show WhatsApp link
        showError('Verzending mislukt. Neem direct contact op via <a href="https://wa.me/31618922134?text=' +
          encodeURIComponent('Hallo, ik wil graag een prijsindicatie voor ' + service + ' in ' + neighborhood + '.') +
          '" target="_blank" rel="noopener" class="underline font-semibold">WhatsApp</a>.');
      }
    });

    // --- Handle cross-page hash navigation (e.g. from homepage to #offerte) ---
    if (window.location.hash) {
      setTimeout(function() {
        var target = document.querySelector(window.location.hash);
        if (target) {
          var top = target.getBoundingClientRect().top + window.scrollY - 80;
          window.scrollTo({ top: top, behavior: 'smooth' });
        }
      }, 150);
    }

    // --- Smooth scroll for CTA links ---
    document.querySelectorAll('a[href^="#"]').forEach(function(link) {
      link.addEventListener('click', function(e) {
        var target = document.querySelector(link.getAttribute('href'));
        if (target) {
          e.preventDefault();
          var offset = 80;
          var top = target.getBoundingClientRect().top + window.scrollY - offset;
          window.scrollTo({ top: top, behavior: 'smooth' });
        }
      });
    });

    // --- Scroll animations (fade-in) ---
    var observer = new IntersectionObserver(function(entries) {
      entries.forEach(function(entry) {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
          observer.unobserve(entry.target);
        }
      });
    }, { threshold: 0.1 });

    document.querySelectorAll('.fade-in').forEach(function(el) { observer.observe(el); });

    // --- WhatsApp click tracking ---
    document.querySelectorAll('a[href*="wa.me"]').forEach(function(link) {
      link.addEventListener('click', function() {
        if (typeof gtag === 'function') {
          gtag('event', 'whatsapp_click', { event_category: 'engagement', event_label: 'landing_nl' });
        }
      });
    });

  })();
  </script>

  <!-- Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "HomeAndConstructionBusiness",
    "name": "4Builders Amsterdam",
    "url": "https://4builders-amsterdam.nl",
    "telephone": "+31618922134",
    "email": "info@4builders-amsterdam.nl",
    "address": {
      "@type": "PostalAddress",
      "streetAddress": "Pieter Baststraat 29 H",
      "addressLocality": "Amsterdam",
      "postalCode": "1071TV",
      "addressCountry": "NL"
    },
    "areaServed": {
      "@type": "City",
      "name": "Amsterdam"
    },
    "aggregateRating": {
      "@type": "AggregateRating",
      "ratingValue": "5.0",
      "reviewCount": "12"
    }
  }
  </script>

</body>
</html>
